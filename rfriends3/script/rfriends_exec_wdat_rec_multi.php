<?php
 require_once("rf_inc.php"); require_once("rf_radiru.php"); require_once("rf_radiru_vod.php"); require_once("rf_ondemand.php"); require_once("rf_downloader.php"); require_once("rf_reserve.php"); require_once("rf_menu_sub.php"); require_once("rf_gdrive.php"); $rfriends_mes = "ラジオ録音ツール"; if ($argc == 2) { $argpara = $argv[1]; } else { $argpara = ""; } echo_prn(1, ""); echo_prn(1, "argpara : $argpara"); $argp = explode(",", $argpara); $cnt = count_73($argp); if ($cnt < 5) { echo_prn(1, "parameter error"); exit; } $ex_type = $argp[0]; $ex_mode = $argp[1]; $dt0 = $argp[2]; $cnt = $argp[3]; $wdat = $argp[4]; $dt0 = trim($dt0); if ($dt0 == "") { echo_prn(1, "録音日付が空です。"); exit; } $dtdate = explode("_", trim($dt0)); $cntdt = count_73($dtdate); if ($cntdt == 1 && $dt0 <= 0) { $dt = strtotime("$dt0 day"); $dtdate[0] = date("Ymd", $dt); } $cntdt = count_73($dtdate); echo_prn(1, ""); if ($cntdt <= 0) { echo_prn(1, "録音日付が空です。"); exit; } echo_prn(1, "録音日付($cntdt)"); foreach($dtdate as $dtdate0) { echo_prn(1,$dtdate0); } if ($ex_type == $ex_radiru_vod) { echo_prn(1,""); echo_prn(1,"radiru_vod_keyword_type : $radiru_vod_keyword_type"); echo_prn(1," 1: [radiru_vod][common]"); echo_prn(1," 0: [radiru_vod][radiru][common]"); echo_prn(1,"radiru_vod_double_rec : $radiru_vod_double_rec"); } if ($ex_type == $ex_radiru_gogaku) { echo_prn(1,"radiru_gogaku_double_rec : $radiru_gogaku_double_rec"); } echo_prn(1,""); echo_prn(1,"ffmpeg_seekable : $ffmpeg_seekable"); echo_prn(1,""); foreach($dtdate as $dtdate0) { radiru_vod_ex($ex_type,$ex_mode,$dtdate0,$cnt,$wdat); echo_prn(1,""); echo_prn(1,""); echo_prn(1,""); } exit; 