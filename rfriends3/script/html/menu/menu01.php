<?php
 switch ($sno) { case "s01a": ht_subtitle("010101",""); ht_rec_abort(); break; case "s01b": ht_subtitle("010102",""); echo_msg(2,"再生状態を表示します。"); echo_msg(2,""); ht_play_abort(0); break; case "s01c": ht_subtitle("010103",""); if (rfgw_which('amixer') !== false) { echo_msg(2, "再生音量を設定します。(amixer)"); echo_msg(2,""); ht_audio_volume_amixer(); } else if (rfgw_which('ncpamixer') !== false) { echo_msg(2, "再生音量を設定します。(ncpamixer)"); echo_msg(2,""); ht_audio_volume_ncpamixer(); } else { echo_msg(2,"このサーバでは、音量設定の機能はサポートされていません。"); } break; case "s02a": ht_subtitle("010201",""); echo_msg(2,"使用量を表示します。"); echo_msg(2,""); rfmenu_info_use(); break; case "s02b": ht_subtitle("010202",""); echo_msg(2,"録音データを再生/表示します。"); echo_msg(2,""); $ht_jump_btn1_label = "選択"; $flists = array(); $flists['radiko'] = 'radiko'; $flists['timefree'] = 'timefree'; $flists['radiru'] = 'radiru'; $flists['radiru_vod'] = 'radiru_vod'; $flists['radiru_gogaku'] = 'radiru_gogaku'; $flists['podcast'] = 'podcast'; $flists['log'] = 'log'; $flists['kw'] = 'kw'; $cnt = count_73($flists); ht_sel_menu("　ディレクトリ（$cnt 件）",$flists,0,0); break; case "s02c": ht_subtitle("010203",""); echo_msg(2,"録音データを削除します。"); echo_msg(2,""); $ht_jump_btn1_label = "選択"; $flists = array(); $flists['radiko'] = 'radiko'; $flists['timefree'] = 'timefree'; $flists['radiru'] = 'radiru'; $flists['radiru_vod'] = 'radiru_vod'; $flists['radiru_gogaku'] = 'radiru_gogaku'; $flists['podcast'] = 'podcast'; $flists['log'] = 'log'; $flists['kw'] = 'kw'; $cnt = count_73($flists); ht_sel_menu("　ディレクトリ（$cnt 件）",$flists,0,0); break; case "s03": ht_subtitle("0103",""); rfmenu_info_daily(); break; case "s04a": ht_subtitle("010401",""); echo_msg(2,"重複するデータ（完全一致）を移動します。"); echo_msg(2,""); rfmenu_info_double(1); break; case "s04b": ht_subtitle("010402",""); echo_msg(2,"重複するデータ（部分一致）を移動します。"); echo_msg(2,""); rfmenu_info_double(2); break; case "s04c": ht_subtitle("010403",""); echo_msg(2,"重複するデータを削除します。"); echo_msg(2,""); rfmenu_info_double_del(); break; case "s05": ht_subtitle("0105",""); $ht_jump_btn1_label = "選択"; rfmenu_info_delivery(); break; case "s06": ht_subtitle("0106",""); rfmenu_info_backup(); break; case "s07a": ht_subtitle("010701",""); $ht_jump_btn1_label = "選択"; $mnus = array( 'ラジコ接続状況','ラジコwgetTest','ラジコ簡易認証','ラジコ詳細認証', 'らじる接続状況','らじるwgetTest','updateサイト確認' ); $n = 1; $lists = array(); foreach($mnus as $mnu) { $lists[] = array('title'=>$mnu,'val'=>$n); $n++; } $opt = array( "title" => '接続テスト', "mode" => 1, "multi" => 0, "confirm" => 0, "ht_selid" => "" ); ht_ask_list($lists,$opt); break; case "s07b": ht_subtitle("010702",""); $mdl = rfgw_is_rasp(); if ($mdl === false) { echo_msg(2,"この機能はraspberry pi 専用です。"); break; } $out = cmd_prn(2,"hostname","hostname -I"); if ($out === false) { echo "<p>hostname コマンドエラー</p>"; break; } $out = str_replace("\n","",$out); echo_msg(2, "<p>&nbsp;$out</p>"); echo "<p></p>"; $ht_jump_btn1_label = "選択"; $mnus = array( '領域拡張','シャットダウン','再起動','Swap領域クリア','hostname変更','audio選択' ); $n = 1; $lists = array(); foreach($mnus as $mnu) { $lists[] = array('title'=>$mnu,'val'=>$n); $n++; } $opt = array( "title" => 'ラズパイ専用メニュー', "mode" => 1, "multi" => 0, "confirm" => 0, "ht_selid" => "" ); ht_ask_list($lists,$opt); break; case "s07c": ht_subtitle("010703",""); if ($svcmode["service_mode"] == 0) { echo_msg(2,"この機能は使用できません。"); break; } $ht_jump_btn1_label = "選択"; $mnus = array( 'ヘッドレス','rss確認','webaudio','ボリューム','rasp_expand','番組表refresh','SERVER','info','ext','system' ); $n = 1; $lists = array(); foreach($mnus as $mnu) { $lists[] = array('title'=>$mnu,'val'=>$n); $n++; } $opt = array( "title" => 'その他', "mode" => 1, "multi" => 0, "confirm" => 0, "ht_selid" => "" ); ht_ask_list($lists,$opt); break; default: break; } 